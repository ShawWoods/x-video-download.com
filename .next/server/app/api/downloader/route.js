/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/downloader/route";
exports.ids = ["app/api/downloader/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "sqlite3":
/*!**************************!*\
  !*** external "sqlite3" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("sqlite3");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/next@15.1.7_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fdownloader%2Froute&page=%2Fapi%2Fdownloader%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdownloader%2Froute.js&appDir=C%3A%5CUsers%5CSHAO%20Yifan%5CDocuments%5CGitHub%5Cx-video-download.com%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CSHAO%20Yifan%5CDocuments%5CGitHub%5Cx-video-download.com&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.1.7_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fdownloader%2Froute&page=%2Fapi%2Fdownloader%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdownloader%2Froute.js&appDir=C%3A%5CUsers%5CSHAO%20Yifan%5CDocuments%5CGitHub%5Cx-video-download.com%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CSHAO%20Yifan%5CDocuments%5CGitHub%5Cx-video-download.com&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/.pnpm/next@15.1.7_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/.pnpm/next@15.1.7_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/.pnpm/next@15.1.7_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_SHAO_Yifan_Documents_GitHub_x_video_download_com_app_api_downloader_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/downloader/route.js */ \"(rsc)/./app/api/downloader/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/downloader/route\",\n        pathname: \"/api/downloader\",\n        filename: \"route\",\n        bundlePath: \"app/api/downloader/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\SHAO Yifan\\\\Documents\\\\GitHub\\\\x-video-download.com\\\\app\\\\api\\\\downloader\\\\route.js\",\n    nextConfigOutput,\n    userland: C_Users_SHAO_Yifan_Documents_GitHub_x_video_download_com_app_api_downloader_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS4xLjdfcmVhY3QtZG9tQDE5LjAuMF9yZWFjdEAxOS4wLjBfX3JlYWN0QDE5LjAuMC9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZkb3dubG9hZGVyJTJGcm91dGUmcGFnZT0lMkZhcGklMkZkb3dubG9hZGVyJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGZG93bmxvYWRlciUyRnJvdXRlLmpzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNTSEFPJTIwWWlmYW4lNUNEb2N1bWVudHMlNUNHaXRIdWIlNUN4LXZpZGVvLWRvd25sb2FkLmNvbSU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDU0hBTyUyMFlpZmFuJTVDRG9jdW1lbnRzJTVDR2l0SHViJTVDeC12aWRlby1kb3dubG9hZC5jb20maXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ3FCO0FBQzhDO0FBQzNIO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5R0FBbUI7QUFDM0M7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsc0RBQXNEO0FBQzlEO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQzBGOztBQUUxRiIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxTSEFPIFlpZmFuXFxcXERvY3VtZW50c1xcXFxHaXRIdWJcXFxceC12aWRlby1kb3dubG9hZC5jb21cXFxcYXBwXFxcXGFwaVxcXFxkb3dubG9hZGVyXFxcXHJvdXRlLmpzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9kb3dubG9hZGVyL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvZG93bmxvYWRlclwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvZG93bmxvYWRlci9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXFNIQU8gWWlmYW5cXFxcRG9jdW1lbnRzXFxcXEdpdEh1YlxcXFx4LXZpZGVvLWRvd25sb2FkLmNvbVxcXFxhcHBcXFxcYXBpXFxcXGRvd25sb2FkZXJcXFxccm91dGUuanNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICB3b3JrQXN5bmNTdG9yYWdlLFxuICAgICAgICB3b3JrVW5pdEFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/next@15.1.7_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fdownloader%2Froute&page=%2Fapi%2Fdownloader%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdownloader%2Froute.js&appDir=C%3A%5CUsers%5CSHAO%20Yifan%5CDocuments%5CGitHub%5Cx-video-download.com%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CSHAO%20Yifan%5CDocuments%5CGitHub%5Cx-video-download.com&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/next@15.1.7_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!*********************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.1.7_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \*********************************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/next@15.1.7_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!*********************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.1.7_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \*********************************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./app/api/downloader/route.js":
/*!*************************************!*\
  !*** ./app/api/downloader/route.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! axios */ \"(rsc)/./node_modules/.pnpm/axios@1.8.4/node_modules/axios/lib/axios.js\");\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../db */ \"(rsc)/./db.js\");\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_db__WEBPACK_IMPORTED_MODULE_0__);\n// app/api/downloader/route.js\n\n // 引入 SQLite 数据库\nasync function GET(request) {\n    const url = request.nextUrl.searchParams.get('url');\n    console.log('接收到的URL:', url);\n    if (!url || !url.startsWith('https://x.com/') || !url.includes('/status/')) {\n        return new Response(JSON.stringify({\n            message: '请提供有效的X平台视频URL'\n        }), {\n            status: 400,\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        });\n    }\n    try {\n        const response = await (0,axios__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n            method: 'GET',\n            url: 'https://twitter-downloader-download-twitter-videos-gifs-and-images.p.rapidapi.com/tweetgrab',\n            params: {\n                url\n            },\n            headers: {\n                'x-rapidapi-key': process.env.RAPIDAPI_KEY,\n                'x-rapidapi-host': 'twitter-downloader-download-twitter-videos-gifs-and-images.p.rapidapi.com'\n            }\n        });\n        console.log('RapidAPI 响应:', JSON.stringify(response.data, null, 2));\n        // 在成功获取视频数据后，更新下载计数\n        const videoData = response.data;\n        const title = videoData.tweet?.title || videoData.tweet?.text || 'Unknown Title'; // 根据 API 响应结构调整\n        _db__WEBPACK_IMPORTED_MODULE_0___default().run(`INSERT INTO downloads (url, download_count, title) \n       VALUES (?, 1, ?) \n       ON CONFLICT(url) DO UPDATE SET download_count = download_count + 1, title = ?`, [\n            url,\n            title,\n            title\n        ], (err)=>{\n            if (err) {\n                console.error('数据库错误:', err);\n            } else {\n                console.log(`已更新下载计数: ${url}`);\n            }\n        });\n        return new Response(JSON.stringify(videoData), {\n            status: 200,\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        });\n    } catch (error) {\n        console.error('API错误:', error.message);\n        return new Response(JSON.stringify({\n            message: '视频下载失败',\n            error: error.response?.data || error.message\n        }), {\n            status: 500,\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2Rvd25sb2FkZXIvcm91dGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLDhCQUE4QjtBQUNKO0FBQ0csQ0FBQyxnQkFBZ0I7QUFFdkMsZUFBZUUsSUFBSUMsT0FBTztJQUMvQixNQUFNQyxNQUFNRCxRQUFRRSxPQUFPLENBQUNDLFlBQVksQ0FBQ0MsR0FBRyxDQUFDO0lBQzdDQyxRQUFRQyxHQUFHLENBQUMsWUFBWUw7SUFFeEIsSUFBSSxDQUFDQSxPQUFPLENBQUNBLElBQUlNLFVBQVUsQ0FBQyxxQkFBcUIsQ0FBQ04sSUFBSU8sUUFBUSxDQUFDLGFBQWE7UUFDMUUsT0FBTyxJQUFJQyxTQUFTQyxLQUFLQyxTQUFTLENBQUM7WUFBRUMsU0FBUztRQUFpQixJQUFJO1lBQ2pFQyxRQUFRO1lBQ1JDLFNBQVM7Z0JBQUUsZ0JBQWdCO1lBQW1CO1FBQ2hEO0lBQ0Y7SUFFQSxJQUFJO1FBQ0YsTUFBTUMsV0FBVyxNQUFNbEIsaURBQUtBLENBQUM7WUFDM0JtQixRQUFRO1lBQ1JmLEtBQUs7WUFDTGdCLFFBQVE7Z0JBQUVoQjtZQUFJO1lBQ2RhLFNBQVM7Z0JBQ1Asa0JBQWtCSSxRQUFRQyxHQUFHLENBQUNDLFlBQVk7Z0JBQzFDLG1CQUFtQjtZQUNyQjtRQUNGO1FBQ0FmLFFBQVFDLEdBQUcsQ0FBQyxnQkFBZ0JJLEtBQUtDLFNBQVMsQ0FBQ0ksU0FBU00sSUFBSSxFQUFFLE1BQU07UUFFaEUsb0JBQW9CO1FBQ3BCLE1BQU1DLFlBQVlQLFNBQVNNLElBQUk7UUFDL0IsTUFBTUUsUUFBUUQsVUFBVUUsS0FBSyxFQUFFRCxTQUFTRCxVQUFVRSxLQUFLLEVBQUVDLFFBQVEsaUJBQWlCLGdCQUFnQjtRQUVsRzNCLDhDQUFNLENBQ0osQ0FBQzs7b0ZBRTZFLENBQUMsRUFDL0U7WUFBQ0c7WUFBS3NCO1lBQU9BO1NBQU0sRUFDbkIsQ0FBQ0k7WUFDQyxJQUFJQSxLQUFLO2dCQUNQdEIsUUFBUXVCLEtBQUssQ0FBQyxVQUFVRDtZQUMxQixPQUFPO2dCQUNMdEIsUUFBUUMsR0FBRyxDQUFDLENBQUMsU0FBUyxFQUFFTCxLQUFLO1lBQy9CO1FBQ0Y7UUFHRixPQUFPLElBQUlRLFNBQVNDLEtBQUtDLFNBQVMsQ0FBQ1csWUFBWTtZQUM3Q1QsUUFBUTtZQUNSQyxTQUFTO2dCQUFFLGdCQUFnQjtZQUFtQjtRQUNoRDtJQUNGLEVBQUUsT0FBT2MsT0FBTztRQUNkdkIsUUFBUXVCLEtBQUssQ0FBQyxVQUFVQSxNQUFNaEIsT0FBTztRQUNyQyxPQUFPLElBQUlILFNBQ1RDLEtBQUtDLFNBQVMsQ0FBQztZQUNiQyxTQUFTO1lBQ1RnQixPQUFPQSxNQUFNYixRQUFRLEVBQUVNLFFBQVFPLE1BQU1oQixPQUFPO1FBQzlDLElBQ0E7WUFDRUMsUUFBUTtZQUNSQyxTQUFTO2dCQUFFLGdCQUFnQjtZQUFtQjtRQUNoRDtJQUVKO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcU0hBTyBZaWZhblxcRG9jdW1lbnRzXFxHaXRIdWJcXHgtdmlkZW8tZG93bmxvYWQuY29tXFxhcHBcXGFwaVxcZG93bmxvYWRlclxccm91dGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gYXBwL2FwaS9kb3dubG9hZGVyL3JvdXRlLmpzXHJcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XHJcbmltcG9ydCBkYiBmcm9tICcuLi8uLi8uLi9kYic7IC8vIOW8leWFpSBTUUxpdGUg5pWw5o2u5bqTXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3QpIHtcclxuICBjb25zdCB1cmwgPSByZXF1ZXN0Lm5leHRVcmwuc2VhcmNoUGFyYW1zLmdldCgndXJsJyk7XHJcbiAgY29uc29sZS5sb2coJ+aOpeaUtuWIsOeahFVSTDonLCB1cmwpO1xyXG5cclxuICBpZiAoIXVybCB8fCAhdXJsLnN0YXJ0c1dpdGgoJ2h0dHBzOi8veC5jb20vJykgfHwgIXVybC5pbmNsdWRlcygnL3N0YXR1cy8nKSkge1xyXG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7IG1lc3NhZ2U6ICfor7fmj5DkvpvmnInmlYjnmoRY5bmz5Y+w6KeG6aKRVVJMJyB9KSwge1xyXG4gICAgICBzdGF0dXM6IDQwMCxcclxuICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zKHtcclxuICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgdXJsOiAnaHR0cHM6Ly90d2l0dGVyLWRvd25sb2FkZXItZG93bmxvYWQtdHdpdHRlci12aWRlb3MtZ2lmcy1hbmQtaW1hZ2VzLnAucmFwaWRhcGkuY29tL3R3ZWV0Z3JhYicsXHJcbiAgICAgIHBhcmFtczogeyB1cmwgfSxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICd4LXJhcGlkYXBpLWtleSc6IHByb2Nlc3MuZW52LlJBUElEQVBJX0tFWSxcclxuICAgICAgICAneC1yYXBpZGFwaS1ob3N0JzogJ3R3aXR0ZXItZG93bmxvYWRlci1kb3dubG9hZC10d2l0dGVyLXZpZGVvcy1naWZzLWFuZC1pbWFnZXMucC5yYXBpZGFwaS5jb20nLFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcbiAgICBjb25zb2xlLmxvZygnUmFwaWRBUEkg5ZON5bqUOicsIEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlLmRhdGEsIG51bGwsIDIpKTtcclxuXHJcbiAgICAvLyDlnKjmiJDlip/ojrflj5bop4bpopHmlbDmja7lkI7vvIzmm7TmlrDkuIvovb3orqHmlbBcclxuICAgIGNvbnN0IHZpZGVvRGF0YSA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICBjb25zdCB0aXRsZSA9IHZpZGVvRGF0YS50d2VldD8udGl0bGUgfHwgdmlkZW9EYXRhLnR3ZWV0Py50ZXh0IHx8ICdVbmtub3duIFRpdGxlJzsgLy8g5qC55o2uIEFQSSDlk43lupTnu5PmnoTosIPmlbRcclxuXHJcbiAgICBkYi5ydW4oXHJcbiAgICAgIGBJTlNFUlQgSU5UTyBkb3dubG9hZHMgKHVybCwgZG93bmxvYWRfY291bnQsIHRpdGxlKSBcclxuICAgICAgIFZBTFVFUyAoPywgMSwgPykgXHJcbiAgICAgICBPTiBDT05GTElDVCh1cmwpIERPIFVQREFURSBTRVQgZG93bmxvYWRfY291bnQgPSBkb3dubG9hZF9jb3VudCArIDEsIHRpdGxlID0gP2AsXHJcbiAgICAgIFt1cmwsIHRpdGxlLCB0aXRsZV0sXHJcbiAgICAgIChlcnIpID0+IHtcclxuICAgICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCfmlbDmja7lupPplJnor686JywgZXJyKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coYOW3suabtOaWsOS4i+i9veiuoeaVsDogJHt1cmx9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICApO1xyXG5cclxuICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkodmlkZW9EYXRhKSwge1xyXG4gICAgICBzdGF0dXM6IDIwMCxcclxuICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignQVBJ6ZSZ6K+vOicsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShcclxuICAgICAgSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG1lc3NhZ2U6ICfop4bpopHkuIvovb3lpLHotKUnLFxyXG4gICAgICAgIGVycm9yOiBlcnJvci5yZXNwb25zZT8uZGF0YSB8fCBlcnJvci5tZXNzYWdlLFxyXG4gICAgICB9KSxcclxuICAgICAge1xyXG4gICAgICAgIHN0YXR1czogNTAwLFxyXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH1cclxufSJdLCJuYW1lcyI6WyJheGlvcyIsImRiIiwiR0VUIiwicmVxdWVzdCIsInVybCIsIm5leHRVcmwiLCJzZWFyY2hQYXJhbXMiLCJnZXQiLCJjb25zb2xlIiwibG9nIiwic3RhcnRzV2l0aCIsImluY2x1ZGVzIiwiUmVzcG9uc2UiLCJKU09OIiwic3RyaW5naWZ5IiwibWVzc2FnZSIsInN0YXR1cyIsImhlYWRlcnMiLCJyZXNwb25zZSIsIm1ldGhvZCIsInBhcmFtcyIsInByb2Nlc3MiLCJlbnYiLCJSQVBJREFQSV9LRVkiLCJkYXRhIiwidmlkZW9EYXRhIiwidGl0bGUiLCJ0d2VldCIsInRleHQiLCJydW4iLCJlcnIiLCJlcnJvciJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/downloader/route.js\n");

/***/ }),

/***/ "(rsc)/./db.js":
/*!***************!*\
  !*** ./db.js ***!
  \***************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\nconst sqlite3 = (__webpack_require__(/*! sqlite3 */ \"sqlite3\").verbose)();\nconst db = new sqlite3.Database('./downloads.db');\ndb.serialize(()=>{\n    db.run(`\n    CREATE TABLE IF NOT EXISTS downloads (\n      id INTEGER PRIMARY KEY AUTOINCREMENT,\n      url TEXT UNIQUE,\n      download_count INTEGER DEFAULT 0,\n      title TEXT\n    )\n  `);\n});\nmodule.exports = db;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9kYi5qcyIsIm1hcHBpbmdzIjoiO0FBQUEsTUFBTUEsVUFBVUMsdURBQTBCO0FBQzFDLE1BQU1FLEtBQUssSUFBSUgsUUFBUUksUUFBUSxDQUFDO0FBRWhDRCxHQUFHRSxTQUFTLENBQUM7SUFDWEYsR0FBR0csR0FBRyxDQUFDLENBQUM7Ozs7Ozs7RUFPUixDQUFDO0FBQ0g7QUFFQUMsT0FBT0MsT0FBTyxHQUFHTCIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxTSEFPIFlpZmFuXFxEb2N1bWVudHNcXEdpdEh1YlxceC12aWRlby1kb3dubG9hZC5jb21cXGRiLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHNxbGl0ZTMgPSByZXF1aXJlKCdzcWxpdGUzJykudmVyYm9zZSgpO1xyXG5jb25zdCBkYiA9IG5ldyBzcWxpdGUzLkRhdGFiYXNlKCcuL2Rvd25sb2Fkcy5kYicpO1xyXG5cclxuZGIuc2VyaWFsaXplKCgpID0+IHtcclxuICBkYi5ydW4oYFxyXG4gICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgZG93bmxvYWRzIChcclxuICAgICAgaWQgSU5URUdFUiBQUklNQVJZIEtFWSBBVVRPSU5DUkVNRU5ULFxyXG4gICAgICB1cmwgVEVYVCBVTklRVUUsXHJcbiAgICAgIGRvd25sb2FkX2NvdW50IElOVEVHRVIgREVGQVVMVCAwLFxyXG4gICAgICB0aXRsZSBURVhUXHJcbiAgICApXHJcbiAgYCk7XHJcbn0pO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBkYjsiXSwibmFtZXMiOlsic3FsaXRlMyIsInJlcXVpcmUiLCJ2ZXJib3NlIiwiZGIiLCJEYXRhYmFzZSIsInNlcmlhbGl6ZSIsInJ1biIsIm1vZHVsZSIsImV4cG9ydHMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./db.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next@15.1.7_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/axios@1.8.4","vendor-chunks/asynckit@0.4.0","vendor-chunks/math-intrinsics@1.1.0","vendor-chunks/es-errors@1.3.0","vendor-chunks/call-bind-apply-helpers@1.0.2","vendor-chunks/debug@4.4.0","vendor-chunks/get-proto@1.0.1","vendor-chunks/mime-db@1.52.0","vendor-chunks/has-symbols@1.1.0","vendor-chunks/gopd@1.2.0","vendor-chunks/function-bind@1.1.2","vendor-chunks/form-data@4.0.2","vendor-chunks/follow-redirects@1.15.9","vendor-chunks/supports-color@7.2.0","vendor-chunks/proxy-from-env@1.1.0","vendor-chunks/ms@2.1.3","vendor-chunks/mime-types@2.1.35","vendor-chunks/hasown@2.0.2","vendor-chunks/has-tostringtag@1.0.2","vendor-chunks/has-flag@4.0.0","vendor-chunks/get-intrinsic@1.3.0","vendor-chunks/es-set-tostringtag@2.1.0","vendor-chunks/es-object-atoms@1.1.1","vendor-chunks/es-define-property@1.0.1","vendor-chunks/dunder-proto@1.0.1","vendor-chunks/delayed-stream@1.0.0","vendor-chunks/combined-stream@1.0.8"], () => (__webpack_exec__("(rsc)/./node_modules/.pnpm/next@15.1.7_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fdownloader%2Froute&page=%2Fapi%2Fdownloader%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdownloader%2Froute.js&appDir=C%3A%5CUsers%5CSHAO%20Yifan%5CDocuments%5CGitHub%5Cx-video-download.com%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CSHAO%20Yifan%5CDocuments%5CGitHub%5Cx-video-download.com&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();